<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Focus Reflect</title>
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#0f2b2c" />
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32.png" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <div class="logo" aria-hidden="true">üß≠</div>
      <div>
        <div class="title">Focus Reflect</div>
        <div class="subtitle">Daily & Weekly review ‚Ä¢ doelen ‚Ä¢ energie ‚Ä¢ groei</div>
      </div>
    </div>

    <div class="actions">
      <button id="btnPrivacy" class="btn btn-ghost" type="button" aria-pressed="false">Privacy</button>

      <div class="menu">
        <button id="btnMenu" class="btn btn-ghost" type="button" aria-haspopup="true" aria-expanded="false">‚ò∞</button>
        <div id="menuPanel" class="menu-panel" role="menu" aria-label="Menu" hidden>
          <button id="btnOpenSettings" class="menu-item" type="button" role="menuitem">‚öôÔ∏è Instellingen</button>
          <div class="menu-sep" aria-hidden="true"></div>
          <button id="btnExport" class="menu-item" type="button" role="menuitem">‚¨áÔ∏è Export JSON</button>
          <label class="menu-item filelabel" role="menuitem">
            ‚¨ÜÔ∏è Import JSON
            <input id="fileImport" type="file" accept="application/json" hidden />
          </label>
          <div class="menu-sep" aria-hidden="true"></div>
          <button id="btnReset" class="menu-item danger" type="button" role="menuitem">üßπ Reset alles</button>
        </div>
      </div>
    </div>
  </header>

  <main class="container">
    <section class="modebar" aria-label="Mode">
      <div class="seg" role="tablist" aria-label="Zakelijk of priv√©">
        <button id="modeBiz" class="segbtn" type="button" role="tab" aria-selected="true">Zakelijk</button>
        <button id="modePer" class="segbtn" type="button" role="tab" aria-selected="false">Priv√©</button>
      </div>
      <div id="modeHint" class="modehint">Start hier</div>
    </section>

    <section id="reminders" class="reminders" aria-label="Reminders" hidden></section>

    <section id="viewHome" class="view" aria-label="Start"></section>
    <section id="viewWeek" class="view" aria-label="Week" hidden></section>
    <section id="viewDashboard" class="view" aria-label="Dashboard" hidden></section>
    <section id="viewSettings" class="view" aria-label="Instellingen" hidden></section>

    <nav class="bottom-nav" aria-label="Navigatie">
      <button class="navbtn" data-nav="home" aria-current="page">Vandaag</button>
      <button class="navbtn" data-nav="week">Week</button>
      <button class="navbtn" data-nav="dash">Dashboard</button>
    </nav>
  </main>

  <div id="modalDaily" class="modal" role="dialog" aria-modal="true" aria-labelledby="dailyTitle" hidden>
    <div class="modal-card">
      <div class="modal-head">
        <div>
          <div id="dailyTitle" class="modal-title">Daily</div>
          <div class="modal-subtitle">kort ‚Ä¢ 2‚Äì3 minuten</div>
        </div>
        <button id="btnCloseDaily" class="iconbtn" type="button" aria-label="Sluit">‚úï</button>
      </div>

      <form id="dailyForm" class="modal-body">
        <input type="hidden" id="dailyDate" />

        <label class="field">
          <span>Top 1 (vandaag)</span>
          <input id="top1" type="text" maxlength="160" placeholder="Wat maakt vandaag een succes?" />
        </label>

        <label class="field">
          <span>Top 3 taken (1 per regel)</span>
          <textarea id="top3" rows="4" maxlength="2000" placeholder="- taak 1&#10;- taak 2&#10;- taak 3"></textarea>
        </label>

        <div class="grid2">
          <label class="field">
            <span>Energie start (1‚Äì5)</span>
            <input id="energyStart" type="range" min="1" max="5" step="1" />
            <div class="rangehint"><span>laag</span><span id="energyStartVal" class="pill mini">3</span><span>hoog</span></div>
          </label>

          <label class="field">
            <span>Zelfontwikkeling (micro)</span>
            <select id="growth">
              <option value="">(geen)</option>
              <optgroup label="Zakelijk">
                <option value="biz_leren">10 min leren</option>
                <option value="biz_sales">10 min sales/marketing</option>
                <option value="biz_proces">10 min proces verbeteren</option>
                <option value="biz_netwerk">10 min netwerk</option>
              </optgroup>
              <optgroup label="Priv√©">
                <option value="per_bewegen">10 min bewegen</option>
                <option value="per_rust">10 min rust</option>
                <option value="per_reflectie">10 min reflectie</option>
                <option value="per_creatief">10 min creatief</option>
                <option value="per_relaties">10 min relaties</option>
              </optgroup>
            </select>
          </label>
        </div>

        <details id="moreDetails" class="more">
          <summary>Meer opties (optioneel)</summary>
          <label class="field">
            <span>Blokkade</span>
            <select id="blocker">
              <option value="">(geen)</option>
              <option value="adhoc">Te veel ad-hoc</option>
              <option value="onduidelijk">Onvoldoende duidelijk</option>
              <option value="te_groot">Taak te groot</option>
              <option value="energie">Te weinig energie</option>
              <option value="afhankelijk">Afhankelijk van anderen</option>
              <option value="anders">Anders</option>
            </select>
          </label>

          <label class="field">
            <span>Notitie</span>
            <textarea id="note" rows="3" maxlength="2000" placeholder="Context / afspraken / reminders‚Ä¶"></textarea>
          </label>

          <label class="checkline">
            <input id="top1Done" type="checkbox" />
            <span>Top 1 gedaan</span>
          </label>

          <div class="grid2">
            <label class="field">
              <span>Energie eind (1‚Äì5)</span>
              <input id="energyEnd" type="range" min="1" max="5" step="1" />
              <div class="rangehint"><span>laag</span><span id="energyEndVal" class="pill mini">3</span><span>hoog</span></div>
            </label>
            <label class="field">
              <span>Tijdvreter</span>
              <select id="timeDrain">
                <option value="">(geen)</option>
                <option value="mail">Mail/DM</option>
                <option value="meetings">Meetings</option>
                <option value="admin">Admin</option>
                <option value="zoeken">Zoeken</option>
                <option value="contextswitch">Context-switch</option>
                <option value="anders">Anders</option>
              </select>
            </label>
          </div>

          <label class="field">
            <span>1 verbetering voor morgen</span>
            <input id="improve" type="text" maxlength="220" placeholder="Bijv. ‚ÄòTop 1 splitsen in 2 subacties‚Äô" />
          </label>
        </details>

        <div class="modal-actions">
          <button class="btn btn-primary" type="submit">Opslaan</button>
        </div>

        <p class="hint">Tip: dicteren kan via de microfoon op je iPhone-toetsenbord.</p>
      </form>
    </div>
  </div>

  <div id="modalWeekly" class="modal" role="dialog" aria-modal="true" aria-labelledby="weeklyTitle" hidden>
    <div class="modal-card">
      <div class="modal-head">
        <div>
          <div id="weeklyTitle" class="modal-title">Weekly review</div>
          <div class="modal-subtitle">checklist ‚Ä¢ 10‚Äì20 minuten</div>
        </div>
        <button id="btnCloseWeekly" class="iconbtn" type="button" aria-label="Sluit">‚úï</button>
      </div>

      <form id="weeklyForm" class="modal-body">
        <input type="hidden" id="weekKey" />

        <div class="sectiontitle">Checklist</div>
        <label class="checkline"><input id="wcInbox" type="checkbox" /><span>Inbox / losse notities verwerkt</span></label>
        <label class="checkline"><input id="wcOpenLoops" type="checkbox" /><span>Open loops / follow-ups bijgewerkt</span></label>
        <label class="checkline"><input id="wcProjects" type="checkbox" /><span>Next actions helder</span></label>

        <div class="sectiontitle">Weekfocus</div>
        <label class="field">
          <span>Top 3 weekdoelen (1 per regel)</span>
          <textarea id="weekTop3" rows="3" maxlength="2000" placeholder="- doel 1&#10;- doel 2&#10;- doel 3"></textarea>
        </label>

        <div class="sectiontitle">KPI</div>
        <label class="field">
          <span>Leadgesprekken deze week</span>
          <input id="leadsWeek" type="number" min="0" step="1" />
        </label>

        <div class="sectiontitle">Energie & tijd</div>
        <label class="field"><span>Energiegevers (kort)</span><input id="energyGives" type="text" maxlength="220" placeholder="Bijv. klantgesprek, creatief maken‚Ä¶" /></label>
        <label class="field"><span>Energievreters (kort)</span><input id="energyCosts" type="text" maxlength="220" placeholder="Bijv. admin, context switching‚Ä¶" /></label>

        <div class="grid2">
          <label class="field">
            <span>Grootste tijdvreter</span>
            <select id="bigDrain">
              <option value="">(geen)</option>
              <option value="mail">Mail/DM</option>
              <option value="meetings">Meetings</option>
              <option value="admin">Admin</option>
              <option value="zoeken">Zoeken</option>
              <option value="contextswitch">Context-switch</option>
              <option value="anders">Anders</option>
            </select>
          </label>
          <label class="field">
            <span>Verbeteractie</span>
            <select id="improveType">
              <option value="">(geen)</option>
              <option value="schrappen">Schrappen</option>
              <option value="delegeren">Delegeren</option>
              <option value="automatiseren">Automatiseren</option>
              <option value="standaardiseren">Standaardiseren</option>
            </select>
          </label>
        </div>

        <label class="field">
          <span>Concrete volgende stap</span>
          <input id="nextStep" type="text" maxlength="220" placeholder="Bijv. ‚ÄòTemplate maken‚Äô" />
        </label>

        <div class="modal-actions">
          <button class="btn btn-primary" type="submit">Opslaan</button>
        </div>
      </form>
    </div>
  </div>

  <script src="app.js"></script>
  <script>
    if ("serviceWorker" in navigator) {
      window.addEventListener("load", () => {
        navigator.serviceWorker.register("./sw.js").catch(() => {});
      });
    }
  </script>
</body>
</html>
