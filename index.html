<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Focus Reflect</title>
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#0f2b2c" />
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32.png" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <div class="logo" aria-hidden="true">üß≠</div>
      <div>
        <div class="title">Focus Reflect</div>
        <div class="subtitle">Daily ‚Ä¢ Weekly ‚Ä¢ Cycles ‚Ä¢ lokaal op dit apparaat</div>
      </div>
    </div>

    <div class="actions">
      <button id="btnPrivacy" class="btn btn-ghost" type="button" aria-pressed="false">Privacy</button>
      <button id="btnMode" class="btn btn-ghost" type="button" aria-pressed="false" title="Zakelijk / Persoonlijk / Alles">Zakelijk</button>
      <button id="btnQuickCheckin" class="btn btn-primary" type="button">Daily</button>

      <div class="menu">
        <button id="btnMenu" class="btn btn-ghost" type="button" aria-haspopup="true" aria-expanded="false">‚ò∞</button>
        <div id="menuPanel" class="menu-panel" role="menu" aria-label="Menu" hidden>
          <button id="btnExport" class="menu-item" type="button" role="menuitem">‚¨áÔ∏è Export JSON</button>
          <label class="menu-item filelabel" role="menuitem">
            ‚¨ÜÔ∏è Import JSON
            <input id="fileImport" type="file" accept="application/json" hidden />
          </label>
          <div class="menu-sep" aria-hidden="true"></div>
          <button id="btnReset" class="menu-item danger" type="button" role="menuitem">üßπ Reset alles</button>
        </div>
      </div>
    </div>
  </header>

  <main class="container">
    <section class="projects" aria-label="Context">
      <div id="contextTabs" class="context-tabs" role="tablist" aria-label="Context tabs"></div>
      <button id="btnNewContext" class="btn btn-ghost btn-compact" type="button">Ôºã Context</button>
    </section>

    <section id="reminders" class="reminders" aria-label="Reminders" hidden></section>

    <section id="viewToday" class="view" aria-label="Vandaag"></section>
    <section id="viewWeek" class="view" aria-label="Week" hidden></section>
    <section id="viewDashboard" class="view" aria-label="Dashboard" hidden></section>
    <section id="viewSettings" class="view" aria-label="Instellingen" hidden></section>

    <nav class="bottom-nav" aria-label="Navigatie">
      <button class="navbtn" data-nav="today" aria-current="page">Vandaag</button>
      <button class="navbtn" data-nav="week">Week</button>
      <button class="navbtn" data-nav="dash">Dashboard</button>
      <button class="navbtn" data-nav="settings">Instellingen</button>
    </nav>
  </main>

  <div id="modalDaily" class="modal" role="dialog" aria-modal="true" aria-labelledby="dailyTitle" hidden>
    <div class="modal-card">
      <div class="modal-head">
        <div>
          <div id="dailyTitle" class="modal-title">Daily</div>
          <div class="modal-subtitle">2‚Äì3 minuten</div>
        </div>
        <button id="btnCloseDaily" class="iconbtn" type="button" aria-label="Sluit">‚úï</button>
      </div>

      <div class="modal-tabs" role="tablist" aria-label="Daily stappen">
        <button class="steptab" data-step="1" aria-selected="true">1 Focus</button>
        <button class="steptab" data-step="2">2 Energie & Tijd</button>
        <button class="steptab" data-step="3">3 Check-out</button>
      </div>

      <form id="dailyForm" class="modal-body">
        <input type="hidden" id="dailyDate" />

        <section class="step" data-step="1">
          <label class="field">
            <span>Top 1 (vandaag)</span>
            <input id="top1" type="text" maxlength="160" placeholder="Wat maakt vandaag een succes?" />
          </label>

          <label class="field">
            <span>Top 3 taken (1 per regel)</span>
            <textarea id="top3" rows="4" maxlength="2000" placeholder="- taak 1&#10;- taak 2&#10;- taak 3"></textarea>
          </label>

          <label class="field">
            <span>Mode</span>
            <select id="modeDaily">
              <option value="business">Zakelijk</option>
              <option value="personal">Persoonlijk</option>
            </select>
          </label>

          <label class="field">
            <span>Zelfontwikkeling (micro-stap)</span>
            <select id="growth">
              <option value="">(geen)</option>
              <optgroup label="Zakelijk">
                <option value="biz_leren">10 min leren (skill)</option>
                <option value="biz_sales">10 min sales/marketing</option>
                <option value="biz_proces">10 min proces verbeteren</option>
                <option value="biz_netwerk">10 min netwerk</option>
              </optgroup>
              <optgroup label="Persoonlijk">
                <option value="per_bewegen">10 min bewegen</option>
                <option value="per_rust">10 min rust/adem</option>
                <option value="per_reflectie">10 min reflectie</option>
                <option value="per_creatief">10 min creatief</option>
                <option value="per_relaties">10 min relaties</option>
              </optgroup>
            </select>
          </label>
        </section>

        <section class="step" data-step="2" hidden>
          <div class="grid2">
            <label class="field">
              <span>Energie nu (1‚Äì5)</span>
              <input id="energyStart" type="range" min="1" max="5" step="1" />
              <div class="rangehint"><span>laag</span><span id="energyStartVal" class="pill mini">3</span><span>hoog</span></div>
            </label>

            <label class="field">
              <span>Verwachte tijd Top 1</span>
              <select id="timePlan">
                <option value="">(onbekend)</option>
                <option value="15">15 min</option>
                <option value="30">30 min</option>
                <option value="60">60 min</option>
                <option value="120">2 uur+</option>
              </select>
            </label>
          </div>

          <label class="field">
            <span>Energie-impact Top 1</span>
            <select id="energyImpact">
              <option value="geeft">Geeft energie</option>
              <option value="neutraal">Neutraal</option>
              <option value="kost">Kost energie</option>
            </select>
          </label>

          <label class="field">
            <span>Grootste blokkade vandaag</span>
            <select id="blocker">
              <option value="">(geen)</option>
              <option value="adhoc">Te veel ad-hoc</option>
              <option value="onduidelijk">Onvoldoende duidelijk</option>
              <option value="te_groot">Taak te groot</option>
              <option value="energie">Te weinig energie</option>
              <option value="afhankelijk">Afhankelijk van anderen</option>
              <option value="anders">Anders</option>
            </select>
          </label>

          <label class="field">
            <span>Notitie (optioneel)</span>
            <textarea id="note" rows="3" maxlength="2000" placeholder="Context / afspraken / wat je niet wilt vergeten‚Ä¶"></textarea>
          </label>
        </section>

        <section class="step" data-step="3" hidden>
          <label class="checkline">
            <input id="top1Done" type="checkbox" />
            <span>Top 1 gedaan</span>
          </label>

          <label class="field">
            <span>Waarom (als niet gedaan) / reflectie (1 zin)</span>
            <input id="reflection" type="text" maxlength="220" placeholder="Wat neem je mee naar morgen?" />
          </label>

          <div class="grid2">
            <label class="field">
              <span>Energie na vandaag (1‚Äì5)</span>
              <input id="energyEnd" type="range" min="1" max="5" step="1" />
              <div class="rangehint"><span>laag</span><span id="energyEndVal" class="pill mini">3</span><span>hoog</span></div>
            </label>

            <label class="field">
              <span>Tijdvreter vandaag?</span>
              <select id="timeDrain">
                <option value="">(geen)</option>
                <option value="mail">Mail/DM</option>
                <option value="meetings">Overleg/meetings</option>
                <option value="admin">Admin/boekhouding</option>
                <option value="zoeken">Zoeken/uitzoeken</option>
                <option value="contextswitch">Context-switching</option>
                <option value="anders">Anders</option>
              </select>
            </label>
          </div>

          <label class="field">
            <span>Verbetering voor morgen (1 stap)</span>
            <input id="improve" type="text" maxlength="220" placeholder="Bijv. ‚ÄòTop 1 splitsen in 2 subacties‚Äô" />
          </label>
        </section>

        <div class="modal-actions">
          <button id="btnPrevStep" class="btn btn-ghost" type="button">‚Üê</button>
          <div class="spacer"></div>
          <button id="btnNextStep" class="btn btn-ghost" type="button">‚Üí</button>
          <button class="btn btn-primary" type="submit">Opslaan</button>
        </div>

        <p class="hint">Tip: op iPhone kun je dicteren in tekstvelden via de microfoon op je toetsenbord.</p>
      </form>
    </div>
  </div>

  <div id="modalWeekly" class="modal" role="dialog" aria-modal="true" aria-labelledby="weeklyTitle" hidden>
    <div class="modal-card">
      <div class="modal-head">
        <div>
          <div id="weeklyTitle" class="modal-title">Weekly review</div>
          <div class="modal-subtitle">10‚Äì20 minuten ‚Ä¢ checklist</div>
        </div>
        <button id="btnCloseWeekly" class="iconbtn" type="button" aria-label="Sluit">‚úï</button>
      </div>

      <form id="weeklyForm" class="modal-body">
        <input type="hidden" id="weekKey" />

        <div class="sectiontitle">Get clear</div>
        <label class="checkline"><input id="wcInbox" type="checkbox" /><span>Inbox / losse notities verwerkt</span></label>
        <label class="checkline"><input id="wcOpenLoops" type="checkbox" /><span>Open loops / follow-ups bijgewerkt</span></label>

        <div class="sectiontitle">Get current</div>
        <label class="checkline"><input id="wcProjects" type="checkbox" /><span>Projecten hebben next actions</span></label>
        <label class="checkline"><input id="wcCalendar" type="checkbox" /><span>Vorige + komende week globaal bekeken</span></label>

        <div class="sectiontitle">Mode</div>
        <label class="field">
          <span>Zakelijk / Persoonlijk</span>
          <select id="modeWeekly">
            <option value="business">Zakelijk</option>
            <option value="personal">Persoonlijk</option>
          </select>
        </label>

        <div class="sectiontitle">Doelen & KPI</div>
        <label class="field">
          <span>Week Top 3 doelen (1 per regel)</span>
          <textarea id="weekTop3" rows="3" maxlength="2000" placeholder="- doel 1&#10;- doel 2&#10;- doel 3"></textarea>
        </label>

        <div class="grid2">
          <label class="field">
            <span>Leadgesprekken deze week</span>
            <input id="leadsWeek" type="number" min="0" step="1" />
          </label>
          <label class="field">
            <span>Confidence (1‚Äì5)</span>
            <input id="confidence" type="range" min="1" max="5" step="1" />
            <div class="rangehint"><span>laag</span><span id="confVal" class="pill mini">3</span><span>hoog</span></div>
          </label>
        </div>

        <div class="sectiontitle">Energie & tijd</div>
        <label class="field"><span>Top energiegevers (1 per regel)</span><textarea id="energyGives" rows="2" maxlength="2000"></textarea></label>
        <label class="field"><span>Top energievreters (1 per regel)</span><textarea id="energyCosts" rows="2" maxlength="2000"></textarea></label>

        <div class="grid2">
          <label class="field">
            <span>Grootste tijdvreter (keuze)</span>
            <select id="bigDrain">
              <option value="">(geen)</option>
              <option value="mail">Mail/DM</option>
              <option value="meetings">Overleg/meetings</option>
              <option value="admin">Admin/boekhouding</option>
              <option value="zoeken">Zoeken/uitzoeken</option>
              <option value="contextswitch">Context-switching</option>
              <option value="anders">Anders</option>
            </select>
          </label>
          <label class="field">
            <span>Verbeteractie (kies)</span>
            <select id="improveType">
              <option value="">(geen)</option>
              <option value="schrappen">Schrappen</option>
              <option value="delegeren">Delegeren</option>
              <option value="automatiseren">Automatiseren</option>
              <option value="standaardiseren">Standaardiseren</option>
            </select>
          </label>
        </div>

        <label class="field">
          <span>Concrete volgende stap</span>
          <input id="nextStep" type="text" maxlength="220" placeholder="Bijv. ‚ÄòMaak template voor offerte-mail‚Äô" />
        </label>

        <div class="modal-actions">
          <button class="btn btn-primary" type="submit">Opslaan</button>
        </div>

        <p class="hint">Deze checklist is ge√Ønspireerd op de GTD Weekly Review. (Zie bron in uitleg.)</p>
      </form>
    </div>
  </div>

  <script src="app.js"></script>
  <script>
    if ("serviceWorker" in navigator) {
      window.addEventListener("load", () => {
        navigator.serviceWorker.register("./sw.js").catch(() => {});
      });
    }
  </script>
</body>
</html>